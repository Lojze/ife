<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>动态数据绑定之监听对象变化</title>
</head>
<body>
	let app = new Observer({ </br>
    name: 'liujianhuan',</br>
    company: 'Qihoo 360',</br>
    address: 'Chaoyang, Beijing'</br>
})</br>

//要实现的结果如下</br>
app.data.name //你访问了name</br>
app.data.company //你访问了company</br>
app.data.address = 'Beijing' //你设置了address， 新的值为 Beijing</br>

<script>
	function Observer(data) {
		this.data = data;
		this.makeObserver(data);
	}

	Observer.prototype.setterAndGetter = function (key, val) {
		Object.defineProperty(this.data, key,{
			enumerable:true,
			configurable:true,
			get:function(){
				console.log('你访问了' + key);
				return val;
			},
			set:function(newval){
				console.log('你设置了' + key);
				console.log('新的' + key + '=' + newval);
				val = newval
			}

		})
	}
	let app = new Observer({
		company:'qihoo 360'
	})
</script>
</body>
</html>